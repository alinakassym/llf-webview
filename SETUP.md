# Настройка окружения для разработки

## Проблема с CORS

При локальной разработке возникает проблема с CORS, так как IP адрес компьютера постоянно меняется, и приходится каждый раз добавлять новый IP в whitelist на бэкенде.

## Решение: Фиксированный IP адрес

Приложение настроено на использование фиксированного IP адреса `192.168.18.102:5173`

### Как настроить фиксированный IP на вашем компьютере

#### Для macOS:

1. **Откройте Системные настройки**
   - Перейдите в `Системные настройки` → `Сеть`

2. **Выберите активное подключение** (Wi-Fi или Ethernet)

3. **Настройте TCP/IP:**
   - Нажмите `Дополнительно...` (Advanced)
   - Перейдите на вкладку `TCP/IP`
   - В поле `Настроить IPv4` выберите `Вручную` (Manually)
   - Введите:
     - **IPv4 Address:** `192.168.18.102`
     - **Subnet Mask:** `255.255.255.0` (обычно)
     - **Router:** `192.168.18.1` (IP вашего роутера, обычно)

4. **Настройте DNS** (вкладка DNS):
   - Добавьте DNS серверы:
     - `8.8.8.8` (Google DNS)
     - `1.1.1.1` (Cloudflare DNS)

5. **Сохраните настройки:**
   - Нажмите `OK` → `Применить` (Apply)

6. **Проверьте подключение:**
```bash
ifconfig | grep "inet "
# Должен показать 192.168.18.102
```

#### Для Windows:

1. **Откройте Параметры сети:**
   - `Панель управления` → `Сеть и Интернет` → `Центр управления сетями`
   - Выберите активное подключение → `Свойства`

2. **Настройте IPv4:**
   - Выберите `Протокол Интернета версии 4 (TCP/IPv4)` → `Свойства`
   - Выберите `Использовать следующий IP-адрес`
   - Введите:
     - **IP-адрес:** `192.168.18.102`
     - **Маска подсети:** `255.255.255.0`
     - **Основной шлюз:** `192.168.18.1` (IP вашего роутера)
     - **Предпочитаемый DNS-сервер:** `8.8.8.8`
     - **Альтернативный DNS-сервер:** `1.1.1.1`

3. **Сохраните настройки:**
   - Нажмите `OK` → `Закрыть`

4. **Проверьте подключение:**
```cmd
ipconfig
# Должен показать IPv4 Address: 192.168.18.102
```

#### Для Linux:

1. **Через Network Manager (GUI):**
   - Откройте настройки сети
   - Выберите активное подключение → `Edit`
   - На вкладке `IPv4 Settings`:
     - Method: `Manual`
     - Add address: `192.168.18.102`, Netmask: `255.255.255.0`, Gateway: `192.168.18.1`
     - DNS: `8.8.8.8, 1.1.1.1`
   - Сохраните и перезапустите подключение

2. **Через командную строку (для опытных):**
```bash
sudo ip addr add 192.168.18.102/24 dev eth0
sudo ip route add default via 192.168.18.1
```

### Важные замечания

⚠️ **Убедитесь, что IP адрес не занят:**
```bash
# Проверьте, что адрес свободен
ping 192.168.18.102
# Если нет ответа - адрес свободен
```

⚠️ **Узнайте IP вашего роутера:**
```bash
# macOS/Linux
netstat -nr | grep default
# или
ip route | grep default

# Windows
ipconfig | findstr "Default Gateway"
```

⚠️ **Диапазон IP адресов:**
Убедитесь, что `192.168.18.102` находится в диапазоне вашей локальной сети. Если ваш роутер использует другой диапазон (например, `192.168.1.x`), измените IP адрес в `vite.config.ts` соответственно.

## Запуск приложения

После настройки фиксированного IP:

```bash
npm run dev
```

Приложение будет доступно по адресу:
```
http://192.168.18.102:5173
```

## Для бэкенд команды

Добавьте следующий origin в CORS whitelist:
```
http://192.168.18.102:5173
```

## Альтернативный вариант: DHCP Reservation

Если не хотите менять настройки сети на компьютере, можно настроить DHCP Reservation в роутере:

1. Зайдите в настройки роутера (обычно `192.168.1.1` или `192.168.18.1`)
2. Найдите раздел DHCP или LAN Settings
3. Создайте DHCP Reservation:
   - MAC адрес вашего компьютера
   - IP адрес: `192.168.18.102`
4. Сохраните настройки
5. Перезагрузите компьютер или переподключитесь к сети

После этого ваш компьютер всегда будет получать IP `192.168.18.102` от роутера.

## Проверка настройки

После настройки проверьте:

```bash
# Проверьте ваш IP
# macOS/Linux
ifconfig | grep "inet "

# Windows
ipconfig

# Запустите приложение
npm run dev

# Откройте в браузере
open http://192.168.18.102:5173
```

## Конфигурация

Текущие настройки в `vite.config.ts`:
- **Host:** `192.168.18.102` (фиксированный IP)
- **Port:** `5173` (фиксированный порт)
- **strictPort:** `true` (не менять порт если занят)
